{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"../styles/Dashboard.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const backendURL=\"http://localhost:5000\";function Dashboard(){const[products,setProducts]=useState([]);const[sales,setSales]=useState([]);const fetchData=async()=>{try{const resProducts=await fetch(\"\".concat(backendURL,\"/products\"));setProducts(await resProducts.json());const resSales=await fetch(\"\".concat(backendURL,\"/sales\"));setSales(await resSales.json());}catch(err){console.error(err);}};useEffect(()=>{fetchData();},[]);const totalProducts=products.length;const lowStock=products.filter(p=>p.quantity<10).length;const totalSales=sales.length;return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Products\"}),/*#__PURE__*/_jsx(\"p\",{children:totalProducts})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Low Stock\"}),/*#__PURE__*/_jsx(\"p\",{children:lowStock})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Sales\"}),/*#__PURE__*/_jsx(\"p\",{children:totalSales})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:p.image,alt:p.name}),/*#__PURE__*/_jsx(\"h3\",{children:p.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: R \",Number(p.price).toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",p.quantity]})]},p.id))})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","backendURL","Dashboard","products","setProducts","sales","setSales","fetchData","resProducts","fetch","concat","json","resSales","err","console","error","totalProducts","length","lowStock","filter","p","quantity","totalSales","className","children","map","src","image","alt","name","Number","price","toFixed","id"],"sources":["C:/Users/USER/Desktop/wings cafe 2/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../styles/Dashboard.css\";\r\n\r\nconst backendURL = \"http://localhost:5000\";\r\n\r\nfunction Dashboard() {\r\n  const [products, setProducts] = useState([]);\r\n  const [sales, setSales] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const resProducts = await fetch(`${backendURL}/products`);\r\n      setProducts(await resProducts.json());\r\n\r\n      const resSales = await fetch(`${backendURL}/sales`);\r\n      setSales(await resSales.json());\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const totalProducts = products.length;\r\n  const lowStock = products.filter((p) => p.quantity < 10).length;\r\n  const totalSales = sales.length;\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1>Dashboard </h1>\r\n\r\n      <div className=\"dashboard-cards\">\r\n        <div className=\"card\">\r\n          <h2>Total Products</h2>\r\n          <p>{totalProducts}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h2>Low Stock</h2>\r\n          <p>{lowStock}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h2>Total Sales</h2>\r\n          <p>{totalSales}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <h2>Products</h2>\r\n      <div className=\"products\">\r\n        {products.map((p) => (\r\n          <div className=\"product-card\" key={p.id}>\r\n            <img src={p.image} alt={p.name} />\r\n            <h3>{p.name}</h3>\r\n            <p>Price: R {Number(p.price).toFixed(2)}</p>\r\n            <p>Quantity: {p.quantity}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}