{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/Desktop/wings cafe 2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const backendURL=\"http://localhost:5000\";function ProductManagement(){const[products,setProducts]=useState([]);const[formData,setFormData]=useState({name:\"\",description:\"\",category:\"\",price:\"\",quantity:\"\",image:\"\"});const[editingId,setEditingId]=useState(null);// Fetch products from backend\nconst fetchProducts=async()=>{const res=await fetch(\"\".concat(backendURL,\"/products\"));const data=await res.json();setProducts(data);};useEffect(()=>{fetchProducts();},[]);// Handle form change\nconst handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};// Add or update product\nconst handleSubmit=async e=>{e.preventDefault();if(editingId){// Update\nconst res=await fetch(\"\".concat(backendURL,\"/products/\").concat(editingId),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});await res.json();}else{// Add\nconst res=await fetch(\"\".concat(backendURL,\"/products\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});await res.json();}setFormData({name:\"\",description:\"\",category:\"\",price:\"\",quantity:\"\",image:\"\"});setEditingId(null);fetchProducts();};// Edit product\nconst handleEdit=product=>{setFormData({name:product.name,description:product.description,category:product.category,price:product.price,quantity:product.quantity,image:product.image});setEditingId(product.id);};// Delete product\nconst handleDelete=async id=>{const res=await fetch(\"\".concat(backendURL,\"/products/\").concat(id),{method:\"DELETE\"});await res.json();fetchProducts();};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-management\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Product Management\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",placeholder:\"Description\",value:formData.description,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",placeholder:\"Category\",value:formData.category,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",placeholder:\"Price\",value:formData.price,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",placeholder:\"Quantity\",value:formData.quantity,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",placeholder:\"Image URL (e.g., src/assets/image.png)\",value:formData.image,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingId?\"Update Product\":\"Add Product\"})]}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"10\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:p.name}),/*#__PURE__*/_jsx(\"td\",{children:p.description}),/*#__PURE__*/_jsx(\"td\",{children:p.category}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R \",Number(p.price).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:p.quantity}),/*#__PURE__*/_jsx(\"td\",{children:p.image&&/*#__PURE__*/_jsx(\"img\",{src:p.image,alt:p.name,width:\"50\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(p),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(p.id),children:\"Delete\"})]})]},p.id))})]})]});}export default ProductManagement;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","backendURL","ProductManagement","products","setProducts","formData","setFormData","name","description","category","price","quantity","image","editingId","setEditingId","fetchProducts","res","fetch","concat","data","json","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","handleEdit","product","id","handleDelete","className","children","onSubmit","style","marginBottom","type","placeholder","onChange","required","border","cellPadding","map","p","Number","toFixed","src","alt","width","onClick"],"sources":["C:/Users/USER/Desktop/wings cafe 2/frontend/src/components/ProductManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst backendURL = \"http://localhost:5000\";\r\n\r\nfunction ProductManagement() {\r\n  const [products, setProducts] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    category: \"\",\r\n    price: \"\",\r\n    quantity: \"\",\r\n    image: \"\",\r\n  });\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // Fetch products from backend\r\n  const fetchProducts = async () => {\r\n    const res = await fetch(`${backendURL}/products`);\r\n    const data = await res.json();\r\n    setProducts(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  // Handle form change\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Add or update product\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (editingId) {\r\n      // Update\r\n      const res = await fetch(`${backendURL}/products/${editingId}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      await res.json();\r\n    } else {\r\n      // Add\r\n      const res = await fetch(`${backendURL}/products`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      await res.json();\r\n    }\r\n\r\n    setFormData({\r\n      name: \"\",\r\n      description: \"\",\r\n      category: \"\",\r\n      price: \"\",\r\n      quantity: \"\",\r\n      image: \"\",\r\n    });\r\n    setEditingId(null);\r\n    fetchProducts();\r\n  };\r\n\r\n  // Edit product\r\n  const handleEdit = (product) => {\r\n    setFormData({\r\n      name: product.name,\r\n      description: product.description,\r\n      category: product.category,\r\n      price: product.price,\r\n      quantity: product.quantity,\r\n      image: product.image,\r\n    });\r\n    setEditingId(product.id);\r\n  };\r\n\r\n  // Delete product\r\n  const handleDelete = async (id) => {\r\n    const res = await fetch(`${backendURL}/products/${id}`, { method: \"DELETE\" });\r\n    await res.json();\r\n    fetchProducts();\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-management\">\r\n      <h1>Product Management</h1>\r\n\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: \"20px\" }}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Name\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          placeholder=\"Description\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"category\"\r\n          placeholder=\"Category\"\r\n          value={formData.category}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          placeholder=\"Price\"\r\n          value={formData.price}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"quantity\"\r\n          placeholder=\"Quantity\"\r\n          value={formData.quantity}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"image\"\r\n          placeholder=\"Image URL (e.g., src/assets/image.png)\"\r\n          value={formData.image}\r\n          onChange={handleChange}\r\n        />\r\n        <button type=\"submit\">{editingId ? \"Update Product\" : \"Add Product\"}</button>\r\n      </form>\r\n\r\n      <table border=\"1\" cellPadding=\"10\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Description</th>\r\n            <th>Category</th>\r\n            <th>Price</th>\r\n            <th>Quantity</th>\r\n            <th>Image</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((p) => (\r\n            <tr key={p.id}>\r\n              <td>{p.name}</td>\r\n              <td>{p.description}</td>\r\n              <td>{p.category}</td>\r\n              <td>R {Number(p.price).toFixed(2)}</td>\r\n              <td>{p.quantity}</td>\r\n              <td>\r\n                {p.image && <img src={p.image} alt={p.name} width=\"50\" />}\r\n              </td>\r\n              <td>\r\n                <button onClick={() => handleEdit(p)}>Edit</button>\r\n                <button onClick={() => handleDelete(p.id)}>Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}